<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A3</title>
</head>
<body>
    <script> 
    var a=prompt('Введите строку на проверку палиндрома');   
    console.log("Начальная строка: #",a,"#");
    function palindrom(){
        a=a.toLowerCase();
        a=a.trim();
        var b=a.indexOf(' ');
        while(b>-1){         //убираем пробелы в тексте
            a=a.replace(' ', '');
            b=a.indexOf(' ');            
        }
        b=a.indexOf('.');
        while(b>-1){         //убираем точки в тексте
            a=a.replace('.', '');
            b=a.indexOf('.');            
        }
        b=a.indexOf(',');
        while(b>-1){         //убираем запятые в тексте
            a=a.replace(',', '');
            b=a.indexOf(',');            
        }
        b=a.indexOf('!');
        while(b>-1){         //убираем восклицательные знаки в тексте
            a=a.replace('!', '');
            b=a.indexOf('!');            
        }
        b=a.indexOf('?');
        while(b>-1){         //убираем вопросительные знаки в тексте
            a=a.replace('?', '');
            b=a.indexOf('?');            
        }
        b=a.indexOf(':');
        while(b>-1){         //убираем двоеточие в тексте
            a=a.replace(':', '');
            b=a.indexOf(':');            
        }
        b=a.indexOf(';');
        while(b>-1){         //убираем точку с запятой в тексте
            a=a.replace(';', '');
            b=a.indexOf(';');            
        }
        b=a.indexOf('-');
        while(b>-1){         //убираем тире в тексте
            a=a.replace('-', '');
            b=a.indexOf('-');            
        }
        b=a.indexOf('/');
        while(b>-1){         //убираем слэш в тексте
            a=a.replace('/', '');
            b=a.indexOf('/');            
        }
        b=a.indexOf('ё');
        while(b>-1){         //заменяем ё на е в тексте
            a=a.replace('ё', 'е');
            b=a.indexOf('ё');            
        }
        b=a.indexOf('ъ');
        while(b>-1){         //заменяем ъ на ь в тексте
            a=a.replace('ъ', 'ь');
            b=a.indexOf('ъ');            
        }

        var c=a.length-1;
        var d=0;
        var dp=a.charCodeAt(d);
        var cp=a.charCodeAt(c);
        var k=true;
        
        function compare(){    //функция берет юникоды указанных символов и сравнивает их
            dp=a.charCodeAt(d);
            cp=a.charCodeAt(c);
            if ((dp-cp)!=0){
                k=false 
                }
            else (k=true);
            return k    
        };
        var p=a.length/2;
        console.log(p);        //Этот цикл должен запускать сравнение символов (вначале крайних по бокам), а затем симмитрично сдвигаться к центру строки 
        while ( d<p && k ){   //здесь необходимо проверять 2 условия: что мы не дошли до середины строки и сравние должно прекратиться
            compare(c,d);      //и что функция compare вернула false, и это значит что строка не является палиндромом и надо прекращать цикл. 
            console.log(c, d, k);
            c--;
            d++;  
            
        };   
        console.log(k);
        if (!k){
            alert('Ваша фраза не является палиндромом')
        } 
        else  alert('Ваша фраза является палиндромом') 
        return k               
    };    
    palindrom(a);
     
    
    console.log("Преобразованная строка: #",a,"#");
    </script>
</body>
</html>